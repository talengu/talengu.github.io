<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>DSP滤波程序 | 一塘</title>
<link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/fonts.css><link rel=stylesheet href=/css/dark.css></head><body><nav><ul class=menu><li><a href=/about/>一塘</a></li><li><a href=/post/>博客</a></li><li><a href=/categories/>分类</a></li><li><a href=/tags/>标签</a></li><li style=float:right;position:relative;margin-left:1em><input type=text id=search-box placeholder=搜索文章... style="padding:.3em .6em;border-radius:4px;border:1px solid #ccc;width:150px;min-width:100px;max-width:250px"><ul id=search-results style="position:absolute;top:100%;right:0;background:#fff;border:1px solid #ccc;max-height:300px;overflow-y:auto;display:none;z-index:1000;list-style:none;padding:0;margin:0;width:250px"></ul></li><style>#search-results li{padding:.3em .5em}#search-results li a{text-decoration:none;color:#007acc}#search-results li:hover{background-color:rgba(0,0,0,5%)}@media(prefers-color-scheme:dark){#search-results{background-color:#1e1e1e;color:#ddd;border-color:#333}#search-results li a{color:#4fc3f7}#search-results li:hover{background-color:rgba(255,255,255,5%)}}@media(max-width:600px){#search-box{width:100px;max-width:120px}#search-results{width:200px}}</style><script src=https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.6.2/fuse.min.js></script><script>fetch("/post/index.json").then(e=>e.json()).then(e=>{const s=new Fuse(e,{keys:["title","categories","tags","summary","content"],threshold:.3}),n=document.getElementById("search-box"),t=document.getElementById("search-results");n.addEventListener("input",function(){const e=this.value.trim();if(!e){t.style.display="none",t.innerHTML="";return}const n=s.search(e);t.innerHTML=n.slice(0,10).map(e=>`<li style="padding:0.3em 0.5em;"><a href="${e.item.permalink}" style="text-decoration:none;color:#007acc;">${e.item.title}</a></li>`).join(""),t.style.display=n.length?"block":"none"}),document.addEventListener("click",e=>{!n.contains(e.target)&&!t.contains(e.target)&&(t.style.display="none")})})</script></ul><hr></nav><div class=article-meta><h1><span class=title>DSP滤波程序</span></h1></div><div class=post-stats style=text-align:right>2015/06/14</div><main><h2 id=前言>前言</h2><p>通过matlab对数字信号进行滤波器的设计后，我们要将设计好的参数放到嵌入式系统中进行滤波。本文就是一个滤波程序。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;stdio.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;malloc.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e>//z变换转成差分方程然后迭代
</span></span></span><span style=display:flex><span><span style=color:#75715e>//Talen @UESTC 2015.6.5
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>//打印数组
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>print</span>(<span style=color:#66d9ef>float</span> <span style=color:#f92672>*</span>x,<span style=color:#66d9ef>int</span> len);
</span></span><span style=display:flex><span><span style=color:#75715e>//取后第1-n个
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>float</span><span style=color:#f92672>*</span> <span style=color:#a6e22e>aminusone</span>(<span style=color:#66d9ef>float</span><span style=color:#f92672>*</span> a,<span style=color:#66d9ef>int</span> ar);
</span></span><span style=display:flex><span><span style=color:#75715e>//差分中间值
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>float</span> <span style=color:#a6e22e>gtcet</span>(<span style=color:#66d9ef>float</span> <span style=color:#f92672>*</span>t,<span style=color:#66d9ef>float</span> <span style=color:#f92672>*</span>x,<span style=color:#66d9ef>int</span> xr,<span style=color:#66d9ef>int</span> s,<span style=color:#66d9ef>int</span> d);
</span></span><span style=display:flex><span><span style=color:#75715e>//主要滤波函数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>float</span><span style=color:#f92672>*</span> <span style=color:#a6e22e>gfilter</span>(<span style=color:#66d9ef>float</span> <span style=color:#f92672>*</span>b,<span style=color:#66d9ef>int</span> br,<span style=color:#66d9ef>float</span> <span style=color:#f92672>*</span>a,<span style=color:#66d9ef>int</span> ar,<span style=color:#66d9ef>float</span> <span style=color:#f92672>*</span>x,<span style=color:#66d9ef>int</span> xr);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>print</span>(<span style=color:#66d9ef>float</span> <span style=color:#f92672>*</span>x,<span style=color:#66d9ef>int</span> len)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;i<span style=color:#f92672>&lt;</span>len;i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>    {<span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;%9.3f &#34;</span>,x[i]);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>((i<span style=color:#f92672>%</span><span style=color:#ae81ff>7</span>)<span style=color:#f92672>==</span><span style=color:#ae81ff>6</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);}
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>float</span><span style=color:#f92672>*</span> <span style=color:#a6e22e>aminusone</span>(<span style=color:#66d9ef>float</span><span style=color:#f92672>*</span> a,<span style=color:#66d9ef>int</span> ar){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span><span style=color:#f92672>*</span> am <span style=color:#f92672>=</span> (<span style=color:#66d9ef>float</span> <span style=color:#f92672>*</span>)<span style=color:#a6e22e>malloc</span>((ar<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>) <span style=color:#f92672>*</span> <span style=color:#66d9ef>sizeof</span>(<span style=color:#66d9ef>float</span>));
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;i<span style=color:#f92672>&lt;</span>ar<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        am[i]<span style=color:#f92672>=</span>a[i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> am;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>float</span> <span style=color:#a6e22e>gtcet</span>(<span style=color:#66d9ef>float</span> <span style=color:#f92672>*</span>t,<span style=color:#66d9ef>float</span> <span style=color:#f92672>*</span>x,<span style=color:#66d9ef>int</span> xr,<span style=color:#66d9ef>int</span> s,<span style=color:#66d9ef>int</span> d)
</span></span><span style=display:flex><span>    <span style=color:#75715e>//x[]数据源 r数据源长度 s开始点(0开始) d数据长度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>//t可以是a[] b[] 长度与d一样
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> sum<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span><span style=color:#f92672>*</span> w <span style=color:#f92672>=</span> (<span style=color:#66d9ef>float</span> <span style=color:#f92672>*</span>)<span style=color:#a6e22e>malloc</span>(d <span style=color:#f92672>*</span> <span style=color:#66d9ef>sizeof</span>(<span style=color:#66d9ef>float</span>));
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;i<span style=color:#f92672>&lt;</span>d;i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> temp<span style=color:#f92672>=</span>s<span style=color:#f92672>-</span>i;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span>(temp<span style=color:#f92672>&gt;=</span><span style=color:#ae81ff>0</span><span style=color:#f92672>&amp;&amp;</span>temp<span style=color:#f92672>&lt;</span>xr)
</span></span><span style=display:flex><span>            w[i]<span style=color:#f92672>=</span>x[temp];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>            w[i]<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#75715e>//核心语句
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        sum<span style=color:#f92672>=</span>sum<span style=color:#f92672>+</span>w[i]<span style=color:#f92672>*</span>t[i];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> sum;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>float</span><span style=color:#f92672>*</span> <span style=color:#a6e22e>gfilter</span>(<span style=color:#66d9ef>float</span> <span style=color:#f92672>*</span>b,<span style=color:#66d9ef>int</span> br,<span style=color:#66d9ef>float</span> <span style=color:#f92672>*</span>a,<span style=color:#66d9ef>int</span> ar,<span style=color:#66d9ef>float</span> <span style=color:#f92672>*</span>x,<span style=color:#66d9ef>int</span> xr)
</span></span><span style=display:flex><span>    <span style=color:#75715e>//b a x br b的长度 ar a的长度 xr数据长度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>//use本程序定义的gtcet()和aminusone()
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>//输入数据，b，a，x得出滤波后的y
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span><span style=color:#f92672>*</span> y <span style=color:#f92672>=</span> (<span style=color:#66d9ef>float</span> <span style=color:#f92672>*</span>)<span style=color:#a6e22e>malloc</span>(xr<span style=color:#f92672>*</span> <span style=color:#66d9ef>sizeof</span>(<span style=color:#66d9ef>float</span>));
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> ti<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;ti<span style=color:#f92672>&lt;</span>xr;ti<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        y[ti]<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;i<span style=color:#f92672>&lt;</span>xr;i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#75715e>//最核心语句，此处迭代
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        y[i]<span style=color:#f92672>=</span><span style=color:#a6e22e>gtcet</span>(b,x,xr,i,br)<span style=color:#f92672>-</span><span style=color:#a6e22e>gtcet</span>(<span style=color:#a6e22e>aminusone</span>(a,ar),y,xr,i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,ar<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> y;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#75715e>//input 源数据 可修改
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>////////////////////////////////////////////////////////////////
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>float</span> x[<span style=color:#ae81ff>120</span>]<span style=color:#f92672>=</span>{<span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>6</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>6</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>6</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>,\
</span></span><span style=display:flex><span>        <span style=color:#f92672>-</span><span style=color:#ae81ff>6</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>6</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>12</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>16</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>38</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>60</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>84</span>,\
</span></span><span style=display:flex><span>        <span style=color:#f92672>-</span><span style=color:#ae81ff>90</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>66</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>32</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>12</span>, <span style=color:#ae81ff>12</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>6</span>,\
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>,\
</span></span><span style=display:flex><span>        <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>,\
</span></span><span style=display:flex><span>        <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>,\
</span></span><span style=display:flex><span>        <span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>6</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>6</span>,\
</span></span><span style=display:flex><span>        <span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>8</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>10</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>8</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>6</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>6</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>8</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>12</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>10</span>,\
</span></span><span style=display:flex><span>        <span style=color:#f92672>-</span><span style=color:#ae81ff>8</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>8</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>10</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>12</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>10</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>8</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>8</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>10</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>10</span>,\
</span></span><span style=display:flex><span>        <span style=color:#f92672>-</span><span style=color:#ae81ff>8</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>6</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>6</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>8</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>8</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>,\
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>};
</span></span><span style=display:flex><span>    <span style=color:#75715e>//参数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>float</span> b[<span style=color:#ae81ff>7</span>]<span style=color:#f92672>=</span>{ <span style=color:#ae81ff>0.0007</span>,<span style=color:#ae81ff>0.0044</span>,<span style=color:#ae81ff>0.0111</span>,<span style=color:#ae81ff>0.0148</span>,<span style=color:#ae81ff>0.0111</span>,<span style=color:#ae81ff>0.0044</span>,<span style=color:#ae81ff>0.0007</span>};
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> a[<span style=color:#ae81ff>7</span>]<span style=color:#f92672>=</span>{ <span style=color:#ae81ff>1.0000</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>3.1836</span>,<span style=color:#ae81ff>4.6222</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>3.7795</span>,<span style=color:#ae81ff>1.8136</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>0.4800</span>,<span style=color:#ae81ff>0.0544</span>};
</span></span><span style=display:flex><span>    <span style=color:#75715e>//////////////////////////////////////////////////////////////////
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>//不要修改
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>int</span> xr<span style=color:#f92672>=</span><span style=color:#66d9ef>sizeof</span>(x)<span style=color:#f92672>/</span><span style=color:#66d9ef>sizeof</span>(<span style=color:#66d9ef>float</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> br<span style=color:#f92672>=</span><span style=color:#66d9ef>sizeof</span>(b)<span style=color:#f92672>/</span><span style=color:#66d9ef>sizeof</span>(<span style=color:#66d9ef>float</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ar<span style=color:#f92672>=</span><span style=color:#66d9ef>sizeof</span>(a)<span style=color:#f92672>/</span><span style=color:#66d9ef>sizeof</span>(<span style=color:#66d9ef>float</span>);
</span></span><span style=display:flex><span>    <span style=color:#75715e>//output 滤波后数据
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>float</span> <span style=color:#f92672>*</span>y;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;参数b：</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);<span style=color:#a6e22e>print</span>(b,br);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;参数a：</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);<span style=color:#a6e22e>print</span>(a,ar);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;原数据：</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);<span style=color:#a6e22e>print</span>(x,xr);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    y<span style=color:#f92672>=</span><span style=color:#a6e22e>gfilter</span>(b,br,a,ar,x,xr);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;滤波后数据：</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);<span style=color:#a6e22e>print</span>(y,xr);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>getchar</span>();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></main><script src=https://giscus.app/client.js data-repo=talengu/talengu.github.io data-repo-id="MDEwOlJlcG9zaXRvcnk5MTk0NjkxNQ==" data-category=Blog data-category-id=DIC_kwDOBXr_o84C0Qpk data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=/css/giscus.css data-lang=zh-CN crossorigin=anonymous async></script><footer>- END -<hr><a href=/about target=_blank title=About>一塘</a>
© 2025
<a href=/index.xml target=_blank title=RSS>RSS</a></footer></body></html>